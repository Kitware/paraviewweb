<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>ParaViewWeb</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/paraviewweb/docs/architecture.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/paraviewweb/docs/architecture.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/paraviewweb/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/paraviewweb/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/paraviewweb/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/paraviewweb/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/paraviewweb/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/paraviewweb/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/paraviewweb/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/paraviewweb/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/paraviewweb/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/paraviewweb/css/navy.css">

  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/paraviewweb/atom.xml" title="ParaViewWeb" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="ParaViewWeb architectureIntroductionParaViewWeb is a framework used to leverage the power of VTK and ParaView on the Web in an interactive manner. ParaViewWeb allows the user to perform heavy 3D visua">
<meta property="og:type" content="website">
<meta property="og:title" content="ParaViewWeb">
<meta property="og:url" content="https://kitware.github.io/paraviewweb/docs/architecture.html">
<meta property="og:site_name" content="ParaViewWeb">
<meta property="og:description" content="ParaViewWeb architectureIntroductionParaViewWeb is a framework used to leverage the power of VTK and ParaView on the Web in an interactive manner. ParaViewWeb allows the user to perform heavy 3D visua">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kitware.github.io/paraviewweb/docs/architecture/PVWeb-old.png">
<meta property="og:image" content="https://kitware.github.io/paraviewweb/docs/architecture/PVWeb-singleuser.png">
<meta property="og:image" content="https://kitware.github.io/paraviewweb/docs/architecture/PVWeb-multiusers.png">
<meta property="article:published_time" content="2022-02-02T01:06:56.982Z">
<meta property="article:modified_time" content="2022-02-02T01:06:56.982Z">
<meta property="article:author" content="Kitware Inc.">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kitware.github.io/paraviewweb/docs/architecture/PVWeb-old.png">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90338862-2', 'auto');
  ga('send', 'pageview');
</script>



<meta name="generator" content="Hexo 5.4.1"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/paraviewweb/" id="logo">ParaViewWeb</a>
    </h1>
    <nav id="main-nav">
      <a href="/paraviewweb/docs/" class="main-nav-link">Docs</a><a href="/paraviewweb/api/" class="main-nav-link">API</a><a href="/paraviewweb/examples/" class="main-nav-link">Examples</a><a href="/paraviewweb/applications/" class="main-nav-link">Applications</a>
      <a target="_blank" rel="noopener" href="https://github.com/kitware/paraviewweb" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name"></h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="ParaViewWeb-architecture" class="article-heading"><a href="#ParaViewWeb-architecture" class="headerlink" title="ParaViewWeb architecture"></a>ParaViewWeb architecture<a class="article-anchor" href="#ParaViewWeb-architecture" aria-hidden="true"></a></h1><h2 id="Introduction" class="article-heading"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction<a class="article-anchor" href="#Introduction" aria-hidden="true"></a></h2><p>ParaViewWeb is a framework used to leverage the power of VTK and ParaView on the Web in an interactive manner. ParaViewWeb allows the user to perform heavy 3D visualization and processing within a Web browser by relying on a remote processing server for rendering and/or processing. In cases of small 3D geometry, ParaViewWeb can send the geometry to the client to allow local rendering using WebGL.</p>
<p>ParaViewWeb started around the beginning of 2010. It has greatly evolved since then. This document will briefly go through the historical architecture in order to highlight major improvements in areas including deployment.</p>
<h2 id="Architecture-evolution" class="article-heading"><a href="#Architecture-evolution" class="headerlink" title="Architecture evolution"></a>Architecture evolution<a class="article-anchor" href="#Architecture-evolution" aria-hidden="true"></a></h2><p>When ParaViewWeb was started, WebGL and WebSocket were still in very early stages of development. At that time, basic HTML was the only option and everything had to be defined.</p>
<p>The solution found at that time to interconnect a WebServer with our C++ backend was a JMS brocker. The WebServerâ€™s role was to interface the HTTP client with the JMS backend. The following picture illustrates all the technologies and layers involved in that setup.</p>
<center>
<img src="architecture/PVWeb-old.png" title="Multi-user setup" alt="Multi-user setup">
</center>

<p>On top of that, we made another design choice where all the ParaView proxies were wrapped into a JavaScript object. This gave us great flexibility in terms of JavaScript code, as anything could be achieved directly from the client. On the other hand, it was producing a lot of unnecessary communication. To overcome this issue, we allowed the user to wrap an external python module. By pre-defining the set of methods that are needed by the Web client on the server side, it provided for a cleaner design, as well as better performance.</p>
<p>When we finally upgraded the ParaViewWeb, we took a new route and had a very precise set of requirements:</p>
<ul>
<li>It needs to be easy to use and deploy.</li>
<li>It should not have external dependencies that are difficult to build.</li>
<li>It should leverage the technologies that were not available when we started.</li>
<li>It should be easy to secure.</li>
<li>Best practices should be enforced by the software.</li>
</ul>
<h3 id="Simplicity" class="article-heading"><a href="#Simplicity" class="headerlink" title="Simplicity"></a>Simplicity<a class="article-anchor" href="#Simplicity" aria-hidden="true"></a></h3><p>The new architecture of ParaViewWeb allows ad-hoc usage of the service with the distributed binaries. How simple is that?</p>
<p>The following picture illustrates how a single user can begin interacting with a local ParaViewWeb instance.</p>
<center>
<img src="architecture/PVWeb-singleuser.png" title="Single user setup" alt="Single user setup">
</center>

<p>In this case, ParaViewWeb is a single Python script that could be executed by the provided python interpreter. The script will be responsible for starting a web server and listening to a given port.</p>
<p>The following command line illustrates how to trigger such a server with ParaView 5.2 bundle which can be downloaded <a target="_blank" rel="noopener" href="http://www.paraview.org/download/">here</a>:</p>
<figure class="highlight sh"><figcaption><span>macOS</span></figcaption><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> paraview.app/Contents</span><br><span class="line">$ ./bin/pvpython                                        \</span><br><span class="line">    ./Resources/web/visualizer/server/pvw-visualizer.py  \</span><br><span class="line">    --content ./Resources/web/visualizer/www/             \</span><br><span class="line">    --data <span class="variable">$PWD</span>/data                                   \</span><br><span class="line">    --port 8080</span><br><span class="line"></span><br><span class="line">==&gt; Open your browser to http://localhost:8080/</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><figcaption><span>Linux</span></figcaption><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ParaView-5.4.0-Qt4-OpenGL2-MPI-Linux-64bit</span><br><span class="line">$ ./bin/pvpython                                                 \</span><br><span class="line">    ./share/paraview-5.4/web/visualizer/server/pvw-visualizer.py  \</span><br><span class="line">    --content ./share/paraview-5.4/web/visualizer/www/             \</span><br><span class="line">    --data <span class="variable">$PWD</span>/share/paraview-5.4/data                         \</span><br><span class="line">    --port 8080</span><br><span class="line"></span><br><span class="line">==&gt; Open your browser to http://localhost:8080/</span><br></pre></td></tr></table></figure>

<figure class="highlight sh"><figcaption><span>Windows</span></figcaption><table><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ParaView-5.4.0-Qt4-OpenGL2-MPI-Windows-64bit</span><br><span class="line">$ .\bin\pvpython.exe                                          \</span><br><span class="line">   share\paraview-5.4\web\visualizer\server\pvw-visualizer.py  \</span><br><span class="line">   --content share\paraview-5.4\web\visualizer\www\             \</span><br><span class="line">   --data <span class="string">&quot;C:\...full_path...\data&quot;</span>                          \</span><br><span class="line">   --port 8080</span><br><span class="line"></span><br><span class="line">==&gt; Open your browser to http://localhost:8080/</span><br></pre></td></tr></table></figure>

<p>This setup does not allow several users to connect to a remote server and build their own visualizations independently from each other. To support such deployment, a multi-user setup is needed.</p>
<h3 id="Multi-user-setup" class="article-heading"><a href="#Multi-user-setup" class="headerlink" title="Multi-user setup"></a>Multi-user setup<a class="article-anchor" href="#Multi-user-setup" aria-hidden="true"></a></h3><p>In order to support in a transparent manner the connection of several users on different visualization sessions, the server must provide a single entry point to establish a connection, as well as a mechanism to start a new visualization session on demand.</p>
<p>The figure below illustrates such a setup where Apache is used as a front-end application to deliver the static content, as well as to forward the WebSocket communication to the appropriate back-end visualization session. Moreover, a <strong>launcher</strong> process is used to dynamically start the pvpython process for the visualization session.</p>
<center>
<img src="architecture/PVWeb-multiusers.png" title="Multi-user setup" alt="Multi-user setup">
</center>

<p>Even if that setup is more complex than the ad-hoc one, it still remains practical for small institutions.</p>
<h3 id="Technologies-and-principles" class="article-heading"><a href="#Technologies-and-principles" class="headerlink" title="Technologies and principles"></a>Technologies and principles<a class="article-anchor" href="#Technologies-and-principles" aria-hidden="true"></a></h3><p>The current implementation prevents the client from having direct access to the ParaView proxy. The exposed API is limited to what the user have chosen to expose.</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2022-02-02T01:06:56.982Z" itemprop="dateModified">Last updated: 2022-02-02</time>
                <a href="contributing.html" class="article-footer-prev" title="Contributing"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="multi_user_setup.html" class="article-footer-next" title="Multi-user setup"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ParaViewWeb-architecture"><span class="toc-text">ParaViewWeb architecture</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Architecture-evolution"><span class="toc-text">Architecture evolution</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Simplicity"><span class="toc-text">Simplicity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Multi-user-setup"><span class="toc-text">Multi-user setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Technologies-and-principles"><span class="toc-text">Technologies and principles</span></a></li></ol></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="setup.html" class="sidebar-link">Setup</a><a href="roadmap.html" class="sidebar-link">Roadmap</a><a href="events.html" class="sidebar-link">Events</a><a target="_blank" rel="noopener" href="https://github.com/Kitware/paraviewweb/releases" class="sidebar-link">Releases</a><strong class="sidebar-title">Basic Usage</strong><a href="import.html" class="sidebar-link">Import</a><strong class="sidebar-title">Miscellaneous</strong><a href="tools.html" class="sidebar-link">Developer guide</a><a href="troubleshooting.html" class="sidebar-link">Troubleshooting</a><a href="contributing.html" class="sidebar-link">Contributing</a><strong class="sidebar-title">Server</strong><a href="architecture.html" class="sidebar-link current">Architecture</a><a href="multi_user_setup.html" class="sidebar-link">Multi-user setup</a><a href="apache_front_end.html" class="sidebar-link">Using Apache</a><a href="ec2.html" class="sidebar-link">EC2</a><a href="docker.html" class="sidebar-link">Docker</a><a href="performances.html" class="sidebar-link">Performances</a><strong class="sidebar-title">Containers</strong><a href="container_overview.html" class="sidebar-link">Overview</a><a href="build_yours.html" class="sidebar-link">Build Yours</a><a href="docker_cheatsheet.html" class="sidebar-link">Cheat sheet</a><strong class="sidebar-title">Launchers</strong><a href="launcher_api.html" class="sidebar-link">API</a><a href="python_launcher.html" class="sidebar-link">Python</a><a href="launching_examples.html" class="sidebar-link">Examples</a><strong class="sidebar-title">Graphics setup</strong><a href="graphics_on_ec2_g2.html" class="sidebar-link">EC2</a><a href="os_mesa.html" class="sidebar-link">Offscreen OSMesa</a><a href="virtualgl_turbovnc_howto.html" class="sidebar-link">VirtualGL and TurboVNC</a><strong class="sidebar-title">Deployment</strong><a href="ubuntu_14_04.html" class="sidebar-link">Ubuntu 14.04 LTS</a><a href="windows_10.html" class="sidebar-link">Windows 10</a><a href="ansible.html" class="sidebar-link">Ansible playbook</a><a href="vagrant.html" class="sidebar-link">Vangrant setup</a><a href="nvidia_redhat.html" class="sidebar-link">Nvidia on RedHat</a><strong class="sidebar-title">Compilation</strong><a href="configure_and_build_vtkweb.html" class="sidebar-link">VTK</a><a href="configure_and_build_pvweb.html" class="sidebar-link">ParaView</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2022 <a href="https://www.kitware.com/" target="_blank">Kitware Inc.</a>
    </div>

    <div id="footer-links">
      <a href="https://github.com/kitware/paraviewweb" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
    <a
      style="position: fixed; background: #00529b; color: white; top: 0; right: 0; height: 70px"
      target="_blank" rel="noopener" href="https://www.kitware.com/careers"
    >
      <div style="position: relative; text-align: center;">
        <div
          style="margin-top: 5px; background: url(https://www.cmake.org/wp-content/uploads/2018/09/jobs_icon.png) no-repeat; background-size: 100%; width: 50px; height: 40px; margin: 5px auto 0;"
        ></div>
        <span style="padding: 5px 10px">Kitware is Hiring</span>
      </div>
    </a>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/paraviewweb/docs/" class="mobile-nav-link">Docs</a><a href="/paraviewweb/api/" class="mobile-nav-link">API</a><a href="/paraviewweb/examples/" class="mobile-nav-link">Examples</a><a href="/paraviewweb/applications/" class="mobile-nav-link">Applications</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/paraviewweb" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="setup.html" class="mobile-nav-link">Setup</a><a href="roadmap.html" class="mobile-nav-link">Roadmap</a><a href="events.html" class="mobile-nav-link">Events</a><a target="_blank" rel="noopener" href="https://github.com/Kitware/paraviewweb/releases" class="mobile-nav-link">Releases</a><strong class="mobile-nav-title">Basic Usage</strong><a href="import.html" class="mobile-nav-link">Import</a><strong class="mobile-nav-title">Miscellaneous</strong><a href="tools.html" class="mobile-nav-link">Developer guide</a><a href="troubleshooting.html" class="mobile-nav-link">Troubleshooting</a><a href="contributing.html" class="mobile-nav-link">Contributing</a><strong class="mobile-nav-title">Server</strong><a href="architecture.html" class="mobile-nav-link current">Architecture</a><a href="multi_user_setup.html" class="mobile-nav-link">Multi-user setup</a><a href="apache_front_end.html" class="mobile-nav-link">Using Apache</a><a href="ec2.html" class="mobile-nav-link">EC2</a><a href="docker.html" class="mobile-nav-link">Docker</a><a href="performances.html" class="mobile-nav-link">Performances</a><strong class="mobile-nav-title">Containers</strong><a href="container_overview.html" class="mobile-nav-link">Overview</a><a href="build_yours.html" class="mobile-nav-link">Build Yours</a><a href="docker_cheatsheet.html" class="mobile-nav-link">Cheat sheet</a><strong class="mobile-nav-title">Launchers</strong><a href="launcher_api.html" class="mobile-nav-link">API</a><a href="python_launcher.html" class="mobile-nav-link">Python</a><a href="launching_examples.html" class="mobile-nav-link">Examples</a><strong class="mobile-nav-title">Graphics setup</strong><a href="graphics_on_ec2_g2.html" class="mobile-nav-link">EC2</a><a href="os_mesa.html" class="mobile-nav-link">Offscreen OSMesa</a><a href="virtualgl_turbovnc_howto.html" class="mobile-nav-link">VirtualGL and TurboVNC</a><strong class="mobile-nav-title">Deployment</strong><a href="ubuntu_14_04.html" class="mobile-nav-link">Ubuntu 14.04 LTS</a><a href="windows_10.html" class="mobile-nav-link">Windows 10</a><a href="ansible.html" class="mobile-nav-link">Ansible playbook</a><a href="vagrant.html" class="mobile-nav-link">Vangrant setup</a><a href="nvidia_redhat.html" class="mobile-nav-link">Nvidia on RedHat</a><strong class="mobile-nav-title">Compilation</strong><a href="configure_and_build_vtkweb.html" class="mobile-nav-link">VTK</a><a href="configure_and_build_pvweb.html" class="mobile-nav-link">ParaView</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/architecture.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/paraviewweb/js/lang_select.js"></script>


<script src="/paraviewweb/js/toc.js"></script>


<script src="/paraviewweb/js/mobile_nav.js"></script>

<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>