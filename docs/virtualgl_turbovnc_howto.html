<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <title>ParaViewWeb</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://kitware.github.io/paraviewweb/docs/virtualgl_turbovnc_howto.html">
  <!-- Alternative links -->
  
    
      <link rel="alternative" hreflang="en" href="https://kitware.github.io/paraviewweb/docs/virtualgl_turbovnc_howto.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/paraviewweb/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/paraviewweb/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/paraviewweb/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/paraviewweb/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/paraviewweb/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/paraviewweb/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/paraviewweb/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/paraviewweb/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/paraviewweb/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/paraviewweb/icon/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  
<link rel="stylesheet" href="/paraviewweb/css/navy.css">

  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/paraviewweb/atom.xml" title="ParaViewWeb" type="application/atom+xml">
  <!-- Open Graph -->
  <meta name="description" content="How to set up VirtualGL and TurboVNC for use with ParaViewWebIntroductionIn order to run ParaViewWeb, a rendering environment is required on the machine on which it will be run.  There are three ways">
<meta property="og:type" content="website">
<meta property="og:title" content="ParaViewWeb">
<meta property="og:url" content="https://kitware.github.io/paraviewweb/docs/virtualgl_turbovnc_howto.html">
<meta property="og:site_name" content="ParaViewWeb">
<meta property="og:description" content="How to set up VirtualGL and TurboVNC for use with ParaViewWebIntroductionIn order to run ParaViewWeb, a rendering environment is required on the machine on which it will be run.  There are three ways">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://kitware.github.io/paraviewweb/docs/virtualgl_turbovnc_howto/PVW-config.png">
<meta property="article:published_time" content="2022-02-01T01:59:23.236Z">
<meta property="article:modified_time" content="2022-02-01T01:59:23.236Z">
<meta property="article:author" content="Kitware Inc.">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kitware.github.io/paraviewweb/docs/virtualgl_turbovnc_howto/PVW-config.png">
  <!-- Google Analytics -->
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90338862-2', 'auto');
  ga('send', 'pageview');
</script>



<meta name="generator" content="Hexo 5.4.1"></head>

<body>
  <div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/paraviewweb/" id="logo">ParaViewWeb</a>
    </h1>
    <nav id="main-nav">
      <a href="/paraviewweb/docs/" class="main-nav-link">Docs</a><a href="/paraviewweb/api/" class="main-nav-link">API</a><a href="/paraviewweb/examples/" class="main-nav-link">Examples</a><a href="/paraviewweb/applications/" class="main-nav-link">Applications</a>
      <a target="_blank" rel="noopener" href="https://github.com/kitware/paraviewweb" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
      <div id="search-input-wrap">
        <div id="search-input-icon">
          <i class="fa fa-search"></i>
        </div>
        <input type="search" id="search-input" placeholder="Search...">
      </div>
    </nav>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    <div id="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name"></h1>
              </header>
              <div class="article-content" itemprop="articleBody">
                <h1 id="How-to-set-up-VirtualGL-and-TurboVNC-for-use-with-ParaViewWeb" class="article-heading"><a href="#How-to-set-up-VirtualGL-and-TurboVNC-for-use-with-ParaViewWeb" class="headerlink" title="How to set up VirtualGL and TurboVNC for use with ParaViewWeb"></a>How to set up VirtualGL and TurboVNC for use with ParaViewWeb<a class="article-anchor" href="#How-to-set-up-VirtualGL-and-TurboVNC-for-use-with-ParaViewWeb" aria-hidden="true"></a></h1><h2 id="Introduction" class="article-heading"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction<a class="article-anchor" href="#Introduction" aria-hidden="true"></a></h2><p>In order to run ParaViewWeb, a rendering environment is required on the machine on which it will be run.  There are three ways to achieve a rendering environment, each of which is depicted in the image below.  One way is to build ParaView with OSMesa support. Accordingly, ParaView will perform software rendering (on the CPU) instead of using the screen and any GPU driving it.  This is depicted in the image below as approach <strong>A</strong>.  Another approach is to require that the user who will run ParaViewWeb is logged in to the machine, and that this user is running a valid display.  In this case, ParaView will use the user’s valid display environment (and the GPU) to perform its rendering.  This approach is depicted in the figure below as approach <strong>B</strong>.  The third approach, shown below as <strong>C</strong>, is to use a virtual display, such as that which is provided by a virtual network sharing (VNC) system.  The third approach is the one we describe in this document.  Here, we will illustrate how to use VirtualGL and TurboVNC in order to provide a virtual display environment for ParaViewWeb so that it can leverage the GPU.</p>
<center>
<img src="virtualgl_turbovnc_howto/PVW-config.png">
</center>


<h2 id="Procedure-Overview" class="article-heading"><a href="#Procedure-Overview" class="headerlink" title="Procedure Overview"></a>Procedure Overview<a class="article-anchor" href="#Procedure-Overview" aria-hidden="true"></a></h2><p>At the highest level, the procedure for setting up ParaViewWeb to render using VirtualGL and TurboVNC is as follows:</p>
<ol>
<li>Install, configure, and test VirtualGL</li>
<li>Install TurboVNC</li>
<li>Use VirtualGL and TurboVNC to run ParaViewWeb</li>
</ol>
<h2 id="Install-Configure-and-Test-VirtualGL" class="article-heading"><a href="#Install-Configure-and-Test-VirtualGL" class="headerlink" title="Install, Configure, and Test VirtualGL"></a>Install, Configure, and Test VirtualGL<a class="article-anchor" href="#Install-Configure-and-Test-VirtualGL" aria-hidden="true"></a></h2><p>Below is a summary of the instructions for installing, configuring, and testing Virtual GL on Ubuntu 12.04.  The original, complete instructions are located <a target="_blank" rel="noopener" href="http://virtualgl.svn.sourceforge.net/viewvc/virtualgl/vgl/tags/2.3.3/doc/index.html">here</a>.</p>
<h5 id="Download-the-package-a-deb-file-from-here" class="article-heading"><a href="#Download-the-package-a-deb-file-from-here" class="headerlink" title="Download the package (a .deb file) from here:"></a>Download the package (a .deb file) from here:<a class="article-anchor" href="#Download-the-package-a-deb-file-from-here" aria-hidden="true"></a></h5><pre><code>http://sourceforge.net/projects/virtualgl/files/VirtualGL/2.3.3/
</code></pre>
<h5 id="Install-the-package" class="article-heading"><a href="#Install-the-package" class="headerlink" title="Install the package:"></a>Install the package:<a class="article-anchor" href="#Install-the-package" aria-hidden="true"></a></h5><pre><code>sudo dpkg -i virtualgl_2.3.3_i386.deb
</code></pre>
<h5 id="Shut-down-the-display-manager" class="article-heading"><a href="#Shut-down-the-display-manager" class="headerlink" title="Shut down the display manager:"></a>Shut down the display manager:<a class="article-anchor" href="#Shut-down-the-display-manager" aria-hidden="true"></a></h5><pre><code>(first hit Ctrl-Alt-F1)
sudo /etc/init.d/lightdm stop
</code></pre>
<h5 id="Run-the-virtualGL-server-config-script-from-command-line-or-remote-via-ssh" class="article-heading"><a href="#Run-the-virtualGL-server-config-script-from-command-line-or-remote-via-ssh" class="headerlink" title="Run the virtualGL server config script from command-line (or remote via ssh):"></a>Run the virtualGL server config script from command-line (or remote via ssh):<a class="article-anchor" href="#Run-the-virtualGL-server-config-script-from-command-line-or-remote-via-ssh" aria-hidden="true"></a></h5><pre><code>sudo /opt/VirtualGL/bin/vglserver_config
</code></pre>
<p>You will be asked three questions during this configuration.  You can arrange things how you like, but for the most secure configuration, you will want to reply in the affirmative to each question.</p>
<pre><code>&quot;Restrict 3D X server access to vglusers group?&quot;  Yes.
&quot;Restrict framebuffer device access to vglusers group?&quot;  Yes.
&quot;Disable XTEST extension?&quot;  Yes.
</code></pre>
<h5 id="Add-a-user-“kitware”" class="article-heading"><a href="#Add-a-user-“kitware”" class="headerlink" title="Add a user: “kitware”"></a>Add a user: “kitware”<a class="article-anchor" href="#Add-a-user-“kitware”" aria-hidden="true"></a></h5><pre><code>sudo useradd kitware
</code></pre>
<h5 id="Add-“root”-and-“kitware”-users-to-vglusers-group" class="article-heading"><a href="#Add-“root”-and-“kitware”-users-to-vglusers-group" class="headerlink" title="Add “root” and “kitware” users to vglusers group:"></a>Add “root” and “kitware” users to vglusers group:<a class="article-anchor" href="#Add-“root”-and-“kitware”-users-to-vglusers-group" aria-hidden="true"></a></h5><pre><code>sudo usermod -a -G vglusers kitware
sudo usermod -a -G vglusers root
</code></pre>
<h5 id="Restart-the-display-manager" class="article-heading"><a href="#Restart-the-display-manager" class="headerlink" title="Restart the display manager:"></a>Restart the display manager:<a class="article-anchor" href="#Restart-the-display-manager" aria-hidden="true"></a></h5><pre><code>sudo /etc/init.d/lightdm start
</code></pre>
<h5 id="Now-using-ssh-to-log-in-from-another-machine-run-the-following-commands-to-test-the-VirtualGL-configuration" class="article-heading"><a href="#Now-using-ssh-to-log-in-from-another-machine-run-the-following-commands-to-test-the-VirtualGL-configuration" class="headerlink" title="Now, using ssh to log in from another machine, run the following commands to test the VirtualGL configuration:"></a>Now, using ssh to log in from another machine, run the following commands to test the VirtualGL configuration:<a class="article-anchor" href="#Now-using-ssh-to-log-in-from-another-machine-run-the-following-commands-to-test-the-VirtualGL-configuration" aria-hidden="true"></a></h5><pre><code>xauth merge /etc/opt/VirtualGL/vgl_xauth_key
xdpyinfo -display :0
/opt/VirtualGL/bin/glxinfo -display :0 -c
</code></pre>
<p>The following two paragraphs and intervening code segment are taken directly from the documentation site linked above.</p>
<p><em>You should also examine the output of glxinfo to ensure that at least one of the visuals is 24-bit or 32-bit TrueColor and has Pbuffer support (the latter is indicated by a â€œPâ€ in the last column.) Example:</em></p>
<pre><code>    visual  x   bf lv rg d st  colorbuffer  ax dp st accumbuffer  ms  cav  drw
  id dep cl sp  sz l  ci b ro  r  g  b  a F bf th cl  r  g  b  a ns b eat  typ
------------------------------------------------------------------------------
0x151 24 tc  0  32  0 r  y  .  8  8  8  0 .  4 24  8 16 16 16 16  0 0 None PXW
</code></pre>
<p><em>If none of the visuals has Pbuffer support, it is most likely because there is no 3D acceleration, which probably means that the correct 3D drivers are not installed (or are misconfigured.) Lack of 3D acceleration is also typically indicated by the word â€œMesaâ€ in the client GLX vendor string and/or in the OpenGL vendor string, as well as by the words â€œSoftware Rasterizerâ€ in the OpenGL renderer string.</em></p>
<h2 id="Install-TurboVNC" class="article-heading"><a href="#Install-TurboVNC" class="headerlink" title="Install TurboVNC"></a>Install TurboVNC<a class="article-anchor" href="#Install-TurboVNC" aria-hidden="true"></a></h2><p>Here is a summary of how to install TurboVNC on Ubuntu 12.04.  The complete, original instructions can be found <a target="_blank" rel="noopener" href="http://virtualgl.svn.sourceforge.net/viewvc/virtualgl/vnc/tags/1.2/doc/index.html">here</a>.</p>
<h5 id="Download-the-package-file-from-here" class="article-heading"><a href="#Download-the-package-file-from-here" class="headerlink" title="Download the package file from here:"></a>Download the package file from here:<a class="article-anchor" href="#Download-the-package-file-from-here" aria-hidden="true"></a></h5><pre><code> http://sourceforge.net/projects/virtualgl/files/TurboVNC/1.2/
</code></pre>
<h5 id="Install-it" class="article-heading"><a href="#Install-it" class="headerlink" title="Install it:"></a>Install it:<a class="article-anchor" href="#Install-it" aria-hidden="true"></a></h5><pre><code> sudo dpkg -i turbovnc_1.2_amd64.deb
</code></pre>
<h2 id="Use-VirtualGL-and-TurboVNC-to-run-ParaViewWeb" class="article-heading"><a href="#Use-VirtualGL-and-TurboVNC-to-run-ParaViewWeb" class="headerlink" title="Use VirtualGL and TurboVNC to run ParaViewWeb"></a>Use VirtualGL and TurboVNC to run ParaViewWeb<a class="article-anchor" href="#Use-VirtualGL-and-TurboVNC-to-run-ParaViewWeb" aria-hidden="true"></a></h2><p>If TurboVNC and VirtualGL have been installed and set up correctly, then you can use them to provide a rendering environment for ParaViewWeb.  On the machine on which you intend to run ParaViewWeb and perform the actual rendering, you must first be logged in as the user whom you placed into the <em>vlgusers</em> group in steps (5) and (6) of the section on VirtualGL.  Then, you need to take the following steps:</p>
<h5 id="Start-the-vncserver-application-which-is-probably-installed-in-opt" class="article-heading"><a href="#Start-the-vncserver-application-which-is-probably-installed-in-opt" class="headerlink" title="Start the vncserver application, which is probably installed in /opt."></a>Start the <em>vncserver</em> application, which is probably installed in /opt.<a class="article-anchor" href="#Start-the-vncserver-application-which-is-probably-installed-in-opt" aria-hidden="true"></a></h5><pre><code>/opt/TurboVNC/bin/vncserver -noauth
</code></pre>
<p>Make a note of the display number that vncserver has selected for its display, as it is needed in the following steps.</p>
<p>You could also skip the -noauth argument the first time you run vncserver as the user who is in the <em>vglusers</em> group. You will then be asked to set up a password that users will need in order to connect to the vnc session.  This is a more secure approach because a user without the password will not be able to connect to the vnc session (e.g. with vncviewer) and see what is happening.  By giving the -noauth argument, you forego this password and, thereafter, anyone can connect to the vnc session without any credentials.  However, in the use case we are targeting in this document, we do not expect anyone to connect to the vnc session.</p>
<h5 id="Using-the-display-number-you-noted-in-the-previous-step-set-the-DISPLAY-environment-variable-that-ParaViewWeb-will-use-during-this-session" class="article-heading"><a href="#Using-the-display-number-you-noted-in-the-previous-step-set-the-DISPLAY-environment-variable-that-ParaViewWeb-will-use-during-this-session" class="headerlink" title="Using the display number you noted in the previous step, set the DISPLAY environment variable that ParaViewWeb will use during this session."></a>Using the display number you noted in the previous step, set the DISPLAY environment variable that ParaViewWeb will use during this session.<a class="article-anchor" href="#Using-the-display-number-you-noted-in-the-previous-step-set-the-DISPLAY-environment-variable-that-ParaViewWeb-will-use-during-this-session" aria-hidden="true"></a></h5><pre><code>export DISPLAY=:&lt;display-number&gt;.0
</code></pre>
<p>Where display-number is replaced with the actual display number you noted in step (1).</p>
<h5 id="Now-use-the-VirtualGL-program-vglrun-to-start-the-ParaViewWeb-application-of-interest" class="article-heading"><a href="#Now-use-the-VirtualGL-program-vglrun-to-start-the-ParaViewWeb-application-of-interest" class="headerlink" title="Now use the VirtualGL program, vglrun, to start the ParaViewWeb application of interest."></a>Now use the VirtualGL program, <em>vglrun</em>, to start the ParaViewWeb application of interest.<a class="article-anchor" href="#Now-use-the-VirtualGL-program-vglrun-to-start-the-ParaViewWeb-application-of-interest" aria-hidden="true"></a></h5><pre><code>/opt/VirtualGL/bin/vglrun &lt;path-to-pvpython&gt; &lt;path-to-paraview-build&gt;/lib/site-packages/paraview/web/pv_web_visualizer.py --content &lt;path-to-content&gt; --port &lt;port&gt; --data &lt;paraview-data-dir&gt;
</code></pre>
<p>Where all the elements in angle brackets, shown above, have been replaced with the correct values.</p>
<h5 id="When-the-ParaViewWeb-application-is-finished-you-should-kill-the-vncserver-session-to-release-its-resources-and-free-up-the-display-number-it-was-using-as-follows" class="article-heading"><a href="#When-the-ParaViewWeb-application-is-finished-you-should-kill-the-vncserver-session-to-release-its-resources-and-free-up-the-display-number-it-was-using-as-follows" class="headerlink" title="When the ParaViewWeb application is finished, you should kill the vncserver session to release its resources and free up the display number it was using, as follows:"></a>When the ParaViewWeb application is finished, you should kill the vncserver session to release its resources and free up the display number it was using, as follows:<a class="article-anchor" href="#When-the-ParaViewWeb-application-is-finished-you-should-kill-the-vncserver-session-to-release-its-resources-and-free-up-the-display-number-it-was-using-as-follows" aria-hidden="true"></a></h5><pre><code>/opt/TurboVNC/bin/vncserver -kill :&lt;display-number&gt;
</code></pre>
<p>Where display-number, above, has been replaced with the display number you noted in step (1).</p>
<h3 id="An-automated-example" class="article-heading"><a href="#An-automated-example" class="headerlink" title="An automated example"></a>An automated example<a class="article-anchor" href="#An-automated-example" aria-hidden="true"></a></h3><p>As an example, here is a bash shell script, which automates the steps given above in a single script file:</p>
<pre><code>#!/bin/bash

# vglPvRun.sh: a small bash script which demonstrates how to start
# a TurboVNC session, capture the display number it used, then
# set the DISPLAY environment variable to that number and run
# a ParaViewWeb application.  When the web application finishes,
# the TurboVNC session is killed which releases resources and
# frees the display number.
#
# You should make this script executable (e.g. &quot;chmod 755 vglPvRun.sh&quot;)
# and then run it as &quot;./vglPvRun.sh&quot;.

usage()&#123;
    echo &quot;Usage: $0 portNumber paraViewBuildDir paraViewDataDir vncServerPath vglRunPath&quot;
    echo &quot;   portNumber: The port on which the ParaViewWeb app should listen&quot;
    echo &quot;   paraViewBuildDir: The path to the folder where ParaView build dir is located&quot;
    echo &quot;   paraViewDataDir: The path the to the ParaViewData directory&quot;
    echo &quot;   vncServerPath: The location of the &#39;vncserver&#39; program&quot;
    echo &quot;   vglRunPath: The location of the &#39;vglrun&#39; program&quot;
    exit 1
&#125;

# Check if we got all the command line arguments we need
if [[ $# -ne 5 ]]
then
    usage
fi

# Grab the command line arguments into variables
port=$1
paraViewBuildDir=$2
paraViewDataDir=$3
vncServerPath=$4
vglRunPath=$5

# The command that runs vncserver and gives as part of its output
# the display
vncSrvOutput=`$vncServerPath -noauth 2&gt;&amp;1 &gt;/dev/null`

# A regular expression, which we&#39;ll use to find the display number
# in the vncserver command output
srvOutRegex=&#39;started on display\s+([^:]+):([[:digit:]]+)\s+&#39;

# Find the display number that vncserver chose for this session
if [[ $vncSrvOutput =~ $srvOutRegex ]]
then
    echo &#39;Found the hostname = &#39;$&#123;BASH_REMATCH[1]&#125;
    echo &#39;Found the display number = &#39;$&#123;BASH_REMATCH[2]&#125;
    displayNumber=$&#123;BASH_REMATCH[2]&#125;
else
    echo &#39;Did not recognize output&#39;
fi

# Now set the display environment variable to the display number
# we just captured
export DISPLAY=:$displayNumber.0

# Now run the ParaViewWeb application
$vglRunPath $paraViewBuildDir/bin/pvpython $paraViewBuildDir/lib/site-packages/paraview/web/pv_web_visualizer.py --content $paraViewBuildDir/www --port $port --data $paraViewDataDir

# When it finishes, make sure to kill the associated vnc session and
# release the display number.
$vncServerPath -kill :$displayNumber
</code></pre>
<p>You can copy/paste this script and customize it to run other ParaViewWeb applications or add your own arguments, etc.</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2022-02-01T01:59:23.236Z" itemprop="dateModified">Last updated: 2022-02-01</time>
                <a href="os_mesa.html" class="article-footer-prev" title="Offscreen OSMesa"><i class="fa fa-chevron-left"></i><span>Prev</span></a><a href="ubuntu_14_04.html" class="article-footer-next" title="Ubuntu 14.04 LTS"><span>Next</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              
            </div>
          </div>
          <aside id="article-toc" role="navigation">
            <div id="article-toc-inner">
              <strong class="sidebar-title">Contents</strong>
              <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#How-to-set-up-VirtualGL-and-TurboVNC-for-use-with-ParaViewWeb"><span class="toc-text">How to set up VirtualGL and TurboVNC for use with ParaViewWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Procedure-Overview"><span class="toc-text">Procedure Overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-Configure-and-Test-VirtualGL"><span class="toc-text">Install, Configure, and Test VirtualGL</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Download-the-package-a-deb-file-from-here"><span class="toc-text">Download the package (a .deb file) from here:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Install-the-package"><span class="toc-text">Install the package:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Shut-down-the-display-manager"><span class="toc-text">Shut down the display manager:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Run-the-virtualGL-server-config-script-from-command-line-or-remote-via-ssh"><span class="toc-text">Run the virtualGL server config script from command-line (or remote via ssh):</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Add-a-user-%E2%80%9Ckitware%E2%80%9D"><span class="toc-text">Add a user: “kitware”</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Add-%E2%80%9Croot%E2%80%9D-and-%E2%80%9Ckitware%E2%80%9D-users-to-vglusers-group"><span class="toc-text">Add “root” and “kitware” users to vglusers group:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Restart-the-display-manager"><span class="toc-text">Restart the display manager:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Now-using-ssh-to-log-in-from-another-machine-run-the-following-commands-to-test-the-VirtualGL-configuration"><span class="toc-text">Now, using ssh to log in from another machine, run the following commands to test the VirtualGL configuration:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Install-TurboVNC"><span class="toc-text">Install TurboVNC</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Download-the-package-file-from-here"><span class="toc-text">Download the package file from here:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Install-it"><span class="toc-text">Install it:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Use-VirtualGL-and-TurboVNC-to-run-ParaViewWeb"><span class="toc-text">Use VirtualGL and TurboVNC to run ParaViewWeb</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Start-the-vncserver-application-which-is-probably-installed-in-opt"><span class="toc-text">Start the vncserver application, which is probably installed in &#x2F;opt.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Using-the-display-number-you-noted-in-the-previous-step-set-the-DISPLAY-environment-variable-that-ParaViewWeb-will-use-during-this-session"><span class="toc-text">Using the display number you noted in the previous step, set the DISPLAY environment variable that ParaViewWeb will use during this session.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Now-use-the-VirtualGL-program-vglrun-to-start-the-ParaViewWeb-application-of-interest"><span class="toc-text">Now use the VirtualGL program, vglrun, to start the ParaViewWeb application of interest.</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#When-the-ParaViewWeb-application-is-finished-you-should-kill-the-vncserver-session-to-release-its-resources-and-free-up-the-display-number-it-was-using-as-follows"><span class="toc-text">When the ParaViewWeb application is finished, you should kill the vncserver session to release its resources and free up the display number it was using, as follows:</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#An-automated-example"><span class="toc-text">An automated example</span></a></li></ol></li></ol></li></ol>
              <a href="#" id="article-toc-top">Back to Top</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation">
  <div class="inner"><strong class="sidebar-title">Getting Started</strong><a href="index.html" class="sidebar-link">Overview</a><a href="setup.html" class="sidebar-link">Setup</a><a href="roadmap.html" class="sidebar-link">Roadmap</a><a href="events.html" class="sidebar-link">Events</a><a target="_blank" rel="noopener" href="https://github.com/Kitware/paraviewweb/releases" class="sidebar-link">Releases</a><strong class="sidebar-title">Basic Usage</strong><a href="import.html" class="sidebar-link">Import</a><strong class="sidebar-title">Miscellaneous</strong><a href="tools.html" class="sidebar-link">Developer guide</a><a href="troubleshooting.html" class="sidebar-link">Troubleshooting</a><a href="contributing.html" class="sidebar-link">Contributing</a><strong class="sidebar-title">Server</strong><a href="architecture.html" class="sidebar-link">Architecture</a><a href="multi_user_setup.html" class="sidebar-link">Multi-user setup</a><a href="apache_front_end.html" class="sidebar-link">Using Apache</a><a href="ec2.html" class="sidebar-link">EC2</a><a href="docker.html" class="sidebar-link">Docker</a><a href="performances.html" class="sidebar-link">Performances</a><strong class="sidebar-title">Containers</strong><a href="container_overview.html" class="sidebar-link">Overview</a><a href="build_yours.html" class="sidebar-link">Build Yours</a><a href="docker_cheatsheet.html" class="sidebar-link">Cheat sheet</a><strong class="sidebar-title">Launchers</strong><a href="launcher_api.html" class="sidebar-link">API</a><a href="python_launcher.html" class="sidebar-link">Python</a><a href="launching_examples.html" class="sidebar-link">Examples</a><strong class="sidebar-title">Graphics setup</strong><a href="graphics_on_ec2_g2.html" class="sidebar-link">EC2</a><a href="os_mesa.html" class="sidebar-link">Offscreen OSMesa</a><a href="virtualgl_turbovnc_howto.html" class="sidebar-link current">VirtualGL and TurboVNC</a><strong class="sidebar-title">Deployment</strong><a href="ubuntu_14_04.html" class="sidebar-link">Ubuntu 14.04 LTS</a><a href="windows_10.html" class="sidebar-link">Windows 10</a><a href="ansible.html" class="sidebar-link">Ansible playbook</a><a href="vagrant.html" class="sidebar-link">Vangrant setup</a><a href="nvidia_redhat.html" class="sidebar-link">Nvidia on RedHat</a><strong class="sidebar-title">Compilation</strong><a href="configure_and_build_vtkweb.html" class="sidebar-link">VTK</a><a href="configure_and_build_pvweb.html" class="sidebar-link">ParaView</a></div>
</aside>
    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2022 <a href="https://www.kitware.com/" target="_blank">Kitware Inc.</a>
    </div>

    <div id="footer-links">
      <a href="https://github.com/kitware/paraviewweb" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
    <a
      style="position: fixed; background: #00529b; color: white; top: 0; right: 0; height: 70px"
      target="_blank" rel="noopener" href="https://www.kitware.com/careers"
    >
      <div style="position: relative; text-align: center;">
        <div
          style="margin-top: 5px; background: url(https://www.cmake.org/wp-content/uploads/2018/09/jobs_icon.png) no-repeat; background-size: 100%; width: 50px; height: 40px; margin: 5px auto 0;"
        ></div>
        <span style="padding: 5px 10px">Kitware is Hiring</span>
      </div>
    </a>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/paraviewweb/docs/" class="mobile-nav-link">Docs</a><a href="/paraviewweb/api/" class="mobile-nav-link">API</a><a href="/paraviewweb/examples/" class="mobile-nav-link">Examples</a><a href="/paraviewweb/applications/" class="mobile-nav-link">Applications</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/kitware/paraviewweb" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">Getting Started</strong><a href="index.html" class="mobile-nav-link">Overview</a><a href="setup.html" class="mobile-nav-link">Setup</a><a href="roadmap.html" class="mobile-nav-link">Roadmap</a><a href="events.html" class="mobile-nav-link">Events</a><a target="_blank" rel="noopener" href="https://github.com/Kitware/paraviewweb/releases" class="mobile-nav-link">Releases</a><strong class="mobile-nav-title">Basic Usage</strong><a href="import.html" class="mobile-nav-link">Import</a><strong class="mobile-nav-title">Miscellaneous</strong><a href="tools.html" class="mobile-nav-link">Developer guide</a><a href="troubleshooting.html" class="mobile-nav-link">Troubleshooting</a><a href="contributing.html" class="mobile-nav-link">Contributing</a><strong class="mobile-nav-title">Server</strong><a href="architecture.html" class="mobile-nav-link">Architecture</a><a href="multi_user_setup.html" class="mobile-nav-link">Multi-user setup</a><a href="apache_front_end.html" class="mobile-nav-link">Using Apache</a><a href="ec2.html" class="mobile-nav-link">EC2</a><a href="docker.html" class="mobile-nav-link">Docker</a><a href="performances.html" class="mobile-nav-link">Performances</a><strong class="mobile-nav-title">Containers</strong><a href="container_overview.html" class="mobile-nav-link">Overview</a><a href="build_yours.html" class="mobile-nav-link">Build Yours</a><a href="docker_cheatsheet.html" class="mobile-nav-link">Cheat sheet</a><strong class="mobile-nav-title">Launchers</strong><a href="launcher_api.html" class="mobile-nav-link">API</a><a href="python_launcher.html" class="mobile-nav-link">Python</a><a href="launching_examples.html" class="mobile-nav-link">Examples</a><strong class="mobile-nav-title">Graphics setup</strong><a href="graphics_on_ec2_g2.html" class="mobile-nav-link">EC2</a><a href="os_mesa.html" class="mobile-nav-link">Offscreen OSMesa</a><a href="virtualgl_turbovnc_howto.html" class="mobile-nav-link current">VirtualGL and TurboVNC</a><strong class="mobile-nav-title">Deployment</strong><a href="ubuntu_14_04.html" class="mobile-nav-link">Ubuntu 14.04 LTS</a><a href="windows_10.html" class="mobile-nav-link">Windows 10</a><a href="ansible.html" class="mobile-nav-link">Ansible playbook</a><a href="vagrant.html" class="mobile-nav-link">Vangrant setup</a><a href="nvidia_redhat.html" class="mobile-nav-link">Nvidia on RedHat</a><strong class="mobile-nav-title">Compilation</strong><a href="configure_and_build_vtkweb.html" class="mobile-nav-link">VTK</a><a href="configure_and_build_pvweb.html" class="mobile-nav-link">ParaView</a>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>English</span></span>
    <select id="mobile-lang-select" data-canonical="docs/virtualgl_turbovnc_howto.html">
      
        <option value="en" selected>English</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->

<script src="/paraviewweb/js/lang_select.js"></script>


<script src="/paraviewweb/js/toc.js"></script>


<script src="/paraviewweb/js/mobile_nav.js"></script>

<!-- endbuild -->
<script src="https://cdn.jsdelivr.net/retinajs/1.3.0/retina.min.js" async></script>



</body>
</html>